#!/bin/bash

# Указываем директорию (по умолчанию - текущая)
DIR=${1:-.}

# Проходим по всем .c файлам в директории (рекурсивно)
find "$DIR" -type f -name "*.c" | while read -r file; do
    echo "Обрабатывается файл: $file"
    perl -pi -e 's/0b([01]+)/"0x".sprintf("%X", oct("0b".$1))/ge' "$file"
done

echo "Готово! Все бинарные числа заменены на шестнадцатеричные."
